%h1 Activity Information
%div
  %table.table
    %tr.header
      %th Fields
      %th Information
    %tr
      %th Name
      %td= @activity.activity_type.name
    %tr
      %th Date
      %td= @activity.starts_at  
    %tr
      %th Note
      %td= @activity.note
- if can? :update, Activity            
  = link_to "Edit activity", edit_activity_path, class: "btn btn-primary"

- if can? :destroy, Activity
  %a.delete-confirm.btn.btn-danger{"data-id" => @activity.id, :href => "#delete-confirm"}
    Delete

= link_to "Cancel", :back, class: "btn btn-default"

:javascript
  $('#delete-confirm').on('show', function() {
    var $submit = $(this).find('.btn-danger'), href = $submit.attr('href');
    $submit.attr('href', href.replace('pony', $(this).data('id')));
  });

  $('.delete-confirm').click(function(e) {
    e.preventDefault();
    $('#delete-confirm').data('id', $(this).data('id')).modal('show');
  });

#delete-confirm.modal.fade
  .modal-dialog
    .modal-content 
      .modal-header
        %a.close{"data-dismiss" => "modal"} Ã—
        Delete this Activity?
      .modal-body
        By clicking on Delete Button, you will destroy this Activity.
      .modal-footer
        %a.btn.btn-default{"data-dismiss" => "modal", :href => "#"} Cancel
        = link_to 'Delete', activity_path(@activity), method: :delete, :class => 'btn btn-danger'