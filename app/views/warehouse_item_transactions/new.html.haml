%h2= "New Material Request"
%hr
= simple_form_for @warehouse_item_transaction, html: { class: "form-horizontal" } do |f|
  .form-group
    %label.col-xs-2.control-label Request By *
    .col-xs-5
      = f.input :receiver_id, label: false, collection: @project_warehouses, input_html: { class: "form-control" }, error_html: { class: "err_msg" }
    %span.help-block= f.error :receiver_id
  .form-group
    %label.col-xs-2.control-label Request To *
    .col-xs-5
      = f.input :sender_id, label: false, collection: @central_warehouses, input_html: { class: "form-control" }, error_html: { class: "err_msg" }
    %span.help-block= f.error :sender_id
  .form-group
    %label.col-xs-2.control-label Material *
    .col-xs-5
      = f.input :material_id, label: false, collection: @materials, input_html: { class: "form-control material_uuid" }, error_html: { class: "err_msg" }
    %span.help-block= f.error :material_id         
  .form-group
    %label.col-xs-2.control-label Quantity *
    .col-xs-5
      = f.input :amount, label: false, input_html: { class: "form-control" }, error_html: { class: "err_msg" }
    %span.help-block= f.error :amount
    %span.uom-name

  .form-group
    %label.col-xs-2.control-label Request Date
    .col-xs-5
      = f.text_field :requested_date, label: false, :class => "form-control", :type => "text", :data => {:date_format => "YYYY-MM-DD"}, value: Date.today, input_html: { class: "form-control" }, readonly: true, error_html: { class: "err_msg" }
    %span.help-block= f.error :requested_date
  .form-group
    %label.col-xs-2.control-label Due Date *
    .col-xs-5
      .controls
        = f.text_field :due_date, data: { :date_format => 'YYYY-MM-DD' }, :class => 'form-control date_pick', placeholder: 'Year-Month-Day', error_html: { class: "err_msg" }
      %span.help-block= f.error :due_date
  .form-group
    %label.col-xs-2.control-label Request Number *
    .col-xs-5
      = f.input :requested_number, label: false, input_html: { class: "form-control" }, error_html: { class: "err_msg" }
    %span.help-block= f.error :requested_number
  .form-group
    %label.col-xs-2.control-label Note
    .col-xs-5
      = f.input :note, label: false, input_html: { class: "form-control" }, error_html: { class: "err_msg" }
    %span.help-block= f.error :note   
  .form-group
    .col-xs-5
      = f.input :created_by, :as => :hidden, :value => current_user.uuid 
    %span.help-block= f.error :created_by          
  .form-group
    .col-xs-7
      .pull-right
        = submit_tag "Create Material Request", class: "btn btn-primary", locals: { f: f }
        = link_to "Cancel", :back, class: "btn btn-default", locals: { f: f }

:javascript
  $('.date_pick').datetimepicker({});
     