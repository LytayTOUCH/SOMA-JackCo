var myData;
$.ajax({
  url:'dashboards.json',
  dataType: 'json',
  success: function(data){
    myData = data;
  }
});

// Load the Visualization API and the piechart package.
google.load('visualization', '1.0', {'packages':['corechart']});
google.load('visualization', "1.1", {'packages':["bar"]});
// Set a callback to run when the Google Visualization API is loaded.
google.setOnLoadCallback(drawChart);

// Callback that creates and populates a data table,
// instantiates the pie chart, passes in the data and
// draws it.
function drawChart() {

  // ======================= Pie Chart ======================
  // Create the data table.
  var data = new google.visualization.DataTable();
  data.addColumn('string', 'Topping');
  data.addColumn('number', 'Slices');
  // data.addRows([
  //   [myData[0], 1000],
  //   [myData[1], 300],
  //   [myData[2], 5000]
  // ]);
  data.addRows(myData);
  // Set chart options
  var options = {'title':'Expense',
                 'width':700,
                 'height':400};

  // Instantiate and draw our chart, passing in some options.
  var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
  chart.draw(data, options);


  // ======================= Bar Chart ======================
  var data1 = google.visualization.arrayToDataTable([
    ['Year', 'Sales', 'Expenses', 'Profit'],
    ['2014', 1000, 400, 200],
    ['2015', 1170, 460, 250],
    ['2016', 660, 1120, 300],
    ['2017', 1030, 540, 350]
  ]);

  var options = {
    pie_chart: {
      title: 'Company Performance',
      subtitle: 'Sales, Expenses, and Profit: 2014-2017',
    },
    bars: 'horizontal' // Required for Material Bar Charts.
  };

  var pie_chart = new google.charts.Bar(document.getElementById('barchart_material'));

  pie_chart.draw(data1, options);
}

